@using Microsoft.AspNetCore.Identity
@using Karma.Models

@inject SignInManager<User> SignInManager
@inject UserManage UserManager

@*@model Karma.Models.CharityManagerTabViewModel*@

@{
    ViewData["Title"] = "Index";
}

<div class="row" style="margin-top:10px">
    <div class="col-md-10">
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="pills-a-tab" data-toggle="pill" href="#pills-a" role="tab" aria-controls="pills-a" aria-selected="true">Edit charity</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="pills-b-tab" data-toggle="pill" href="#pills-b" role="tab" aria-controls="pills-b" aria-selected="false">Users</a>
            </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-a" role="tabpanel" aria-labelledby="pills-a-tab">
                @{await (Html.RenderPartialAsync("~/Views/CharityManager/EditCharity.cshtml", 
                      UserManager.GetCharityByUserRole("Charity manager", UserManager.GetUserId(User))));}
            </div>
            @*<div class="tab-pane fade" id="pills-b" role="tabpanel" aria-labelledby="pills-b-tab">
                @{await (Html.RenderPartialAsync("~/Views/CharityManager/Users.cshtml", Model));}
            </div>*@
        </div>

    </div>

</div>
<div style="margin-bottom:30px"></div>